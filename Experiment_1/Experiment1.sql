

CREATE TABLE BOOKS(
ID INT PRIMARY KEY,
NAME VARCHAR(20) NOT NULL,
AUTHOR_NAME VARCHAR(20) NOT NULL
)

INSERT INTO BOOKS VALUES(1,'XYZ','ABC')

ALTER TABLE BOOKS
ADD COUNT INT CHECK(COUNT>=1)

SELECT * FROM BOOKS

UPDATE BOOKS 
SET COUNT=3
WHERE ID=1


CREATE TABLE LIBRARY_VISITOR_USER(
USER_ID INT PRIMARY KEY,
USER_NAME VARCHAR(20),
AGE INT CHECK(AGE>=17) NOT NULL,
EMAIL VARCHAR(20) UNIQUE NOT NULL
)

INSERT INTO LIBRARY_VISITOR_USER(USER_ID,USER_NAME,AGE,EMAIL) 
VALUES (105,'Kaif',20, 'KM@GMAIL.COM')

ALTER TABLE LIBRARY_VISITOR_USER
DROP COLUMN EMAIL

SELECT * FROM LIBRARY_VISITOR_USER

ALTER TABLE LIBRARY_VISITOR_USER
ADD COLUMN EMAIL VARCHAR(30) UNIQUE

UPDATE LIBRARY_VISITOR_USER
SET EMAIL='KM@GMAIL.COM'

SELECT * FROM LIBRARY_VISITOR_USER




CREATE TABLE BOOK_ISSUE(
BOOK_ISSUE_ID INT PRIMARY KEY,
BOOK_ID INT REFERENCES  BOOKS(ID) NOT NULL,
USER_ID INT REFERENCES    LIBRARY_VISITOR_USER(USER_ID) NOT NULL,
BOOK_ISSUE DATE NOT NULL
)

INSERT INTO BOOK_ISSUE VALUES(5552,1,105,'2026-01-09')

SELECT * FROM BOOK_ISSUE


CREATE ROLE LIBRARIAN_1
WITH LOGIN PASSWORD 'Malik2026@'



GRANT SELECT ,INSERT, DELETE,UPDATE ON BOOKS TO LIBRARIAN_1
GRANT SELECT ,INSERT, DELETE,UPDATE ON BOOK_ISSUE TO LIBRARIAN_1
GRANT SELECT ,INSERT, DELETE,UPDATE ON LIBRARY_VISITOR_USER TO LIBRARIAN_1 

-- HW

REVOKE SELECT ,INSERT, DELETE,UPDATE ON BOOKS FROM LIBRARIAN_1


